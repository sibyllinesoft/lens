{
  "baseline": {
    "name": "Baseline System",
    "description": "Pre-optimization baseline (+0.94pp reference)",
    "config": {
      "router": {
        "tau": 0.45,
        "spend_cap_ms": 150.0
      },
      "ann": {
        "ef": 80,
        "topk": 64
      },
      "rerank": {
        "enabled": false
      }
    },
    "expected_improvement_pp": 0.94,
    "config_hash": "1a7e583d44a3"
  },
  "t1_hero": {
    "name": "T\u2081 Hero System",
    "description": "Parametric router + micro-rerank + conformal surrogate",
    "config": {
      "router": {
        "model_type": "monotone_gbm_int8",
        "version": "1.0",
        "timestamp": "2025-09-12T13:51:11.850000Z",
        "tau_segments": {
          "segments": [
            {
              "range": [
                0.364366513224177,
                0.45690791104398126
              ],
              "coefficients": "[ 0.01345313  0.00038924 -0.01967125 -0.01897499]",
              "intercept": 0.4474369111459609,
              "n_samples": "5215"
            },
            {
              "range": [
                0.45690791104398126,
                0.4792820797975772
              ],
              "coefficients": "[ 6.56468074e-03  1.10928803e-04 -1.51961760e-03 -7.60997058e-05]",
              "intercept": 0.4635356955380432,
              "n_samples": "5225"
            },
            {
              "range": [
                0.4792820797975772,
                0.5035840812761182
              ],
              "coefficients": "[ 0.00717161  0.00030399 -0.00406098  0.00023678]",
              "intercept": 0.4828511733118573,
              "n_samples": "5220"
            },
            {
              "range": [
                0.5035840812761182,
                0.5201678427327613
              ],
              "coefficients": "[ 2.58452446e-03  7.94519696e-05 -1.62774588e-03  1.59716690e-04]",
              "intercept": 0.5079919553836915,
              "n_samples": "5220"
            },
            {
              "range": [
                0.5201678427327613,
                0.5366424905709499
              ],
              "coefficients": "[2.64775132e-03 8.05262330e-05 1.72010374e-05 1.74718048e-03]",
              "intercept": 0.5216655205763749,
              "n_samples": "5219"
            },
            {
              "range": [
                0.5366424905709499,
                0.5582781597875754
              ],
              "coefficients": "[ 5.79322171e-03  9.84061270e-05 -1.76636815e-03  1.54569544e-03]",
              "intercept": 0.5318887817242619,
              "n_samples": "5221"
            },
            {
              "range": [
                0.5582781597875754,
                0.5793927898640094
              ],
              "coefficients": "[ 4.90726799e-03  9.28518640e-05 -6.32331421e-04 -3.19061192e-03]",
              "intercept": 0.5546017105438076,
              "n_samples": "5213"
            },
            {
              "range": [
                0.5793927898640094,
                0.5988557429484616
              ],
              "coefficients": "[ 3.14575825e-03  3.86682255e-05  2.45475372e-03 -3.80031795e-03]",
              "intercept": 0.5777308658310012,
              "n_samples": "5226"
            },
            {
              "range": [
                0.5988557429484616,
                0.6211365181040316
              ],
              "coefficients": "[ 0.0049299   0.00012428 -0.00174173 -0.00289182]",
              "intercept": 0.5907717508319889,
              "n_samples": "5212"
            },
            {
              "range": [
                0.6211365181040316,
                0.6413096009091701
              ],
              "coefficients": "[ 0.0038225   0.00017078 -0.00195424 -0.00245512]",
              "intercept": 0.6143291940006322,
              "n_samples": "5220"
            },
            {
              "range": [
                0.6413096009091701,
                0.6557854578295828
              ],
              "coefficients": "[1.23330911e-03 5.23890154e-05 4.92340257e-04 1.57100798e-03]",
              "intercept": 0.6413632382668879,
              "n_samples": "5228"
            },
            {
              "range": [
                0.6557854578295828,
                0.6718627503354695
              ],
              "coefficients": "[ 1.34624855e-03  1.43411782e-04 -6.51021203e-05 -9.60533868e-04]",
              "intercept": 0.6549449756484332,
              "n_samples": "5221"
            },
            {
              "range": [
                0.6718627503354695,
                0.6949903094838727
              ],
              "coefficients": "[4.95781941e-03 4.37355150e-05 5.53031977e-04 2.52466928e-03]",
              "intercept": 0.6532802457758226,
              "n_samples": "5219"
            },
            {
              "range": [
                0.6949903094838727,
                0.7163490796104721
              ],
              "coefficients": "[ 4.64368534e-03 -4.74668620e-05  1.04414259e-03 -2.78310640e-03]",
              "intercept": 0.6767950740094736,
              "n_samples": "5221"
            },
            {
              "range": [
                0.7163490796104721,
                0.7337173149708517
              ],
              "coefficients": "[ 2.78997656e-03  1.48829429e-05  5.25324648e-04 -3.96740744e-03]",
              "intercept": 0.7061521733922077,
              "n_samples": "5212"
            },
            {
              "range": [
                0.7337173149708517,
                0.796215991189173
              ],
              "coefficients": "[0.00926674 0.00036802 0.00027433 0.0046736 ]",
              "intercept": 0.6761591245424942,
              "n_samples": "5224"
            }
          ],
          "breakpoints": "[0.36436651 0.45690791 0.47928208 0.50358408 0.52016784 0.53664249\n 0.55827816 0.57939279 0.59885574 0.62113652 0.6413096  0.65578546\n 0.67186275 0.69499031 0.71634908 0.73371731 0.79621599]",
          "n_segments": 16
        },
        "spend_segments": {
          "segments": [
            {
              "range": [
                3.463107057137616,
                4.366951388462022
              ],
              "coefficients": "[0.00240382 0.01065007 0.09678409 0.03450837]",
              "intercept": 4.0253160709311135,
              "n_samples": "5214"
            },
            {
              "range": [
                4.366951388462022,
                4.51469824275024
              ],
              "coefficients": "[ 0.00071952  0.00170651  0.01497408 -0.03598514]",
              "intercept": 4.4327711593306285,
              "n_samples": "5216"
            },
            {
              "range": [
                4.51469824275024,
                4.6358794794839
              ],
              "coefficients": "[ 0.0015401   0.0013127  -0.00702669  0.00411576]",
              "intercept": 4.571264401996551,
              "n_samples": "5229"
            },
            {
              "range": [
                4.6358794794839,
                4.723394194114605
              ],
              "coefficients": "[ 0.00074484 -0.00036164 -0.00778853  0.02394661]",
              "intercept": 4.675115068038116,
              "n_samples": "5220"
            },
            {
              "range": [
                4.723394194114605,
                4.814059978706896
              ],
              "coefficients": "[ 0.0023594   0.00080674  0.01073975 -0.03043158]",
              "intercept": 4.764593708431874,
              "n_samples": "5188"
            },
            {
              "range": [
                4.814059978706896,
                4.8854312166881115
              ],
              "coefficients": "[ 3.09493706e-04  6.16711983e-05 -4.66941847e-04 -3.53703856e-02]",
              "intercept": 4.858920314564431,
              "n_samples": "5240"
            },
            {
              "range": [
                4.8854312166881115,
                4.960140908186523
              ],
              "coefficients": "[ 6.29724467e-05 -2.03450445e-04 -3.68041222e-03  3.28325895e-02]",
              "intercept": 4.91639287612122,
              "n_samples": "5194"
            },
            {
              "range": [
                4.960140908186523,
                5.02941599049867
              ],
              "coefficients": "[-4.20484333e-04 -2.60905852e-05 -6.42010079e-03  2.96349434e-03]",
              "intercept": 4.997930557091414,
              "n_samples": "5254"
            },
            {
              "range": [
                5.02941599049867,
                5.084876312281109
              ],
              "coefficients": "[0.00046071 0.00016558 0.0002446  0.03345273]",
              "intercept": 5.039589330327317,
              "n_samples": "5218"
            },
            {
              "range": [
                5.084876312281109,
                5.150642881694953
              ],
              "coefficients": "[ 0.00056288  0.00012162 -0.0046458   0.00994623]",
              "intercept": 5.11405295228774,
              "n_samples": "5227"
            },
            {
              "range": [
                5.150642881694953,
                5.21144972312575
              ],
              "coefficients": "[ 1.07635059e-03 -4.89573805e-05  3.44302218e-03  1.43749120e-03]",
              "intercept": 5.177087853500728,
              "n_samples": "5218"
            },
            {
              "range": [
                5.21144972312575,
                5.292372272473685
              ],
              "coefficients": "[ 0.00082372 -0.00064273  0.00514425 -0.00658207]",
              "intercept": 5.254863885072749,
              "n_samples": "5211"
            },
            {
              "range": [
                5.292372272473685,
                5.367018264835258
              ],
              "coefficients": "[-0.00032267 -0.0008351  -0.00142109 -0.01040312]",
              "intercept": 5.340602859270551,
              "n_samples": "5231"
            },
            {
              "range": [
                5.367018264835258,
                5.470401104811409
              ],
              "coefficients": "[ 0.00037232  0.00056464  0.00186623 -0.00745518]",
              "intercept": 5.411505780292303,
              "n_samples": "5052"
            },
            {
              "range": [
                5.470401104811409,
                5.728831699621967
              ],
              "coefficients": "[-2.36560785e-03  9.43686363e-05  1.60419581e-02  3.48179099e-02]",
              "intercept": 5.567189428811269,
              "n_samples": "5334"
            },
            {
              "range": [
                5.728831699621967,
                6.784997436335544
              ],
              "coefficients": "[0.02704441 0.00304431 0.7057417  0.17482203]",
              "intercept": 5.466256297289564,
              "n_samples": "5271"
            }
          ],
          "breakpoints": "[3.46310706 4.36695139 4.51469824 4.63587948 4.72339419 4.81405998\n 4.88543122 4.96014091 5.02941599 5.08487631 5.15064288 5.21144972\n 5.29237227 5.36701826 5.4704011  5.7288317  6.78499744]",
          "n_segments": 16
        },
        "gain_segments": {
          "segments": [
            {
              "range": [
                0.09232459712905966,
                0.11040334142611687
              ],
              "coefficients": "[ 6.99455679e-05  8.31872242e-05 -1.67257711e-02 -3.21141452e-03]",
              "intercept": 0.11853769990861658,
              "n_samples": "5220"
            },
            {
              "range": [
                0.11040334142611687,
                0.11394895118096406
              ],
              "coefficients": "[ 1.21223038e-05  1.07855154e-06 -1.61062099e-03 -4.54499143e-04]",
              "intercept": 0.11349638091326182,
              "n_samples": "5219"
            },
            {
              "range": [
                0.11394895118096406,
                0.11651858795991536
              ],
              "coefficients": "[-8.99394333e-06  1.03612036e-05 -1.01831970e-03 -1.16968477e-04]",
              "intercept": 0.11588241415926083,
              "n_samples": "5221"
            },
            {
              "range": [
                0.11651858795991536,
                0.11876992619428849
              ],
              "coefficients": "[ 1.41048720e-05 -1.18038987e-06 -8.12862024e-04 -5.24730511e-05]",
              "intercept": 0.11813493997389761,
              "n_samples": "5218"
            },
            {
              "range": [
                0.11876992619428849,
                0.12095970520770766
              ],
              "coefficients": "[-1.51439735e-06 -7.88780102e-06 -1.15192444e-03 -6.87062764e-05]",
              "intercept": 0.1206351028097834,
              "n_samples": "5222"
            },
            {
              "range": [
                0.12095970520770766,
                0.12322561351168149
              ],
              "coefficients": "[-5.48290096e-06 -1.87244643e-06 -9.35212512e-04 -3.44404372e-06]",
              "intercept": 0.1226160482905765,
              "n_samples": "5219"
            },
            {
              "range": [
                0.12322561351168149,
                0.12564906183132674
              ],
              "coefficients": "[ 4.19036049e-06 -3.11852085e-06 -1.01098031e-03  2.90774433e-05]",
              "intercept": 0.12493779509005216,
              "n_samples": "5219"
            },
            {
              "range": [
                0.12564906183132674,
                0.12825037913612627
              ],
              "coefficients": "[ 3.07516025e-06 -1.08675485e-05 -1.35089099e-03  7.24397126e-06]",
              "intercept": 0.12764006950549686,
              "n_samples": "5219"
            },
            {
              "range": [
                0.12825037913612627,
                0.13062854374061575
              ],
              "coefficients": "[ 8.90991074e-06 -5.40249444e-06 -1.10241525e-03  5.49683252e-05]",
              "intercept": 0.12986379494292394,
              "n_samples": "5222"
            },
            {
              "range": [
                0.13062854374061575,
                0.13283977915219158
              ],
              "coefficients": "[ 5.69694717e-06 -1.03125741e-05 -9.42924236e-04 -4.42857886e-05]",
              "intercept": 0.1321553602060332,
              "n_samples": "5221"
            },
            {
              "range": [
                0.13283977915219158,
                0.13516430895961193
              ],
              "coefficients": "[ 1.17274740e-06 -8.94660215e-06 -9.06968270e-04  1.49357416e-04]",
              "intercept": 0.1342886429261741,
              "n_samples": "5218"
            },
            {
              "range": [
                0.13516430895961193,
                0.13761176619453544
              ],
              "coefficients": "[-2.74730935e-06 -1.41009107e-05 -1.21858761e-03  1.10814179e-04]",
              "intercept": 0.13683141091654843,
              "n_samples": "5222"
            },
            {
              "range": [
                0.13761176619453544,
                0.14046424455310513
              ],
              "coefficients": "[ 1.60963472e-06  6.12024065e-07 -1.87808350e-03 -1.27961886e-04]",
              "intercept": 0.13951707033191169,
              "n_samples": "5217"
            },
            {
              "range": [
                0.14046424455310513,
                0.14347430551645984
              ],
              "coefficients": "[-2.02601914e-05  5.25639195e-06 -2.29067235e-03  1.41449668e-04]",
              "intercept": 0.14240561129197712,
              "n_samples": "5220"
            },
            {
              "range": [
                0.14347430551645984,
                0.14743046001482654
              ],
              "coefficients": "[ 7.18812570e-06 -1.15184582e-05 -1.44637954e-03  2.77042812e-04]",
              "intercept": 0.14555977437385786,
              "n_samples": "5223"
            },
            {
              "range": [
                0.14743046001482654,
                0.16500203531567753
              ],
              "coefficients": "[ 0.00043543 -0.00014048 -0.01451398  0.0039482 ]",
              "intercept": 0.15162401425754968,
              "n_samples": "5217"
            }
          ],
          "breakpoints": "[0.0923246  0.11040334 0.11394895 0.11651859 0.11876993 0.12095971\n 0.12322561 0.12564906 0.12825038 0.13062854 0.13283978 0.13516431\n 0.13761177 0.14046424 0.14347431 0.14743046 0.16500204]",
          "n_segments": 16
        },
        "quantization": {
          "bits": 8,
          "tau_quantizer": {
            "quantization_scale": 128,
            "quantization_bits": 8,
            "model_checksum": "3644a684"
          },
          "spend_quantizer": {
            "quantization_scale": 128,
            "quantization_bits": 8,
            "model_checksum": "3644a684"
          },
          "gain_quantizer": {
            "quantization_scale": 128,
            "quantization_bits": 8,
            "model_checksum": "3644a684"
          }
        },
        "monotone_constraints": {
          "tau_entropy": "increasing",
          "spend_entropy": "increasing",
          "gain_nl_confidence": "decreasing"
        },
        "performance_guarantees": {
          "no_regret_threshold": 0.05,
          "piecewise_segments": 16
        }
      },
      "gating": {
        "gating_type": "two_stage",
        "version": "1.0",
        "timestamp": "2025-09-12T13:51:12.092694Z",
        "parameters": {
          "theta_star": 0.525,
          "theta_early_exit": 0.3923684210526316,
          "delta": 0.13263157894736843
        },
        "performance_characteristics": {
          "budget_constraint_ms": 0.2,
          "expected_early_exit_fraction": 0.1,
          "expected_expensive_fraction": 0.3
        },
        "operational_parameters": {
          "monitoring_interval_seconds": 60,
          "adaptation_window_hours": 24,
          "fallback_theta": 0.5
        }
      },
      "ann": {
        "harvest_mode": "ann_parameter_optimization",
        "version": "1.0",
        "timestamp": "2025-09-12T13:51:12.093185Z",
        "optimal_parameters": {
          "ef": 108,
          "topk": 96
        },
        "performance_characteristics": {
          "expected_p95_latency": 55.01369814042339,
          "expected_ndcg_delta": 0.013380365612186113,
          "expected_jaccard_at_10": 0.8109466157652893
        },
        "constraints": {
          "ndcg_non_negative": true,
          "sign_match_required": true,
          "jaccard_protection": 0.8
        },
        "pareto_analysis": {
          "frontier_points": 2,
          "selection_reason": "best_pareto_score_among_valid"
        }
      },
      "performance": {
        "baseline_ndcg": 0.342,
        "t1_improvement_pp": 2.31,
        "target_p95_ms": 119.0
      }
    },
    "expected_improvement_pp": 2.31,
    "config_hash": "5c8fe7e510f9"
  },
  "bm25_expanded": {
    "name": "BM25 + Query Expansion",
    "description": "BM25 with query expansion and PRF",
    "config": {
      "bm25": {
        "k1": 1.2,
        "b": 0.75
      },
      "expansion": {
        "terms": 10,
        "alpha": 0.7
      }
    },
    "expected_improvement_pp": 0.3,
    "config_hash": "bc5f5a135cef"
  },
  "dense_biencoder": {
    "name": "Dense Bi-encoder Baseline",
    "description": "Standard bi-encoder with FAISS",
    "config": {
      "encoder": {
        "model": "sentence-transformers/all-MiniLM-L6-v2"
      },
      "faiss": {
        "index_type": "IVF",
        "nprobe": 32
      }
    },
    "expected_improvement_pp": 1.2,
    "config_hash": "e046fbb1a5d6"
  },
  "ann_heavy": {
    "name": "ANN-Heavy Config",
    "description": "High-recall ANN without router optimizations",
    "config": {
      "ann": {
        "ef": 128,
        "topk": 80
      },
      "router": {
        "enabled": false
      },
      "rerank": {
        "enabled": false
      }
    },
    "expected_improvement_pp": 0.6,
    "config_hash": "0ff19a4c6d5e"
  }
}