{
  "manifest_version": "2.2.1",
  "override_timestamp": "2025-09-13T17:25:00Z",
  "parent_manifest": "manifests/v2.2.1-latency.lock",
  "override_type": "latency_optimization_promotion",
  "promoted_configurations": {
    "code.func": {
      "chunk_len": 384,
      "overlap": 96,
      "max_chunks_per_file": 16,
      "reranker": "ce_tiny",
      "rerank_topk": 15,
      "batch_size_ce": 24,
      "k_pool": 150,
      "graph_expand_hops": 1,
      "graph_added_tokens_cap": 384,
      "fast_path_rules": {
        "enabled": true,
        "ess_threshold": 0.90,
        "chunk_count_threshold": 15,
        "actions": ["reranker=off", "k_pool_reduction=30"]
      }
    },
    "code.symbol": {
      "fuzzy_threshold": 0.9,
      "max_chunks_per_file": 12,
      "graph_expand_hops": 1,
      "graph_added_tokens_cap": 256,
      "graph_pruning": "enabled",
      "symbol_graph_cache": "enabled",
      "k_pool": 150,
      "symbol_boost_decay": 0.8,
      "fast_path_rules": {
        "enabled": true,
        "symbol_confidence_threshold": 0.95,
        "actions": ["graph_expand_hops=0"]
      }
    },
    "code.routing": {
      "router_type": "hybrid_cached",
      "router_cache_enabled": true,
      "router_fast_path_threshold": 0.9,
      "router_feature_cache": "enabled",
      "specialized_parallel": "enabled",
      "specialized_k": 150,
      "k_pool": 180,
      "fusion_method": "lightweight_rrf",
      "reranker": "off",
      "fast_path_rules": {
        "enabled": true,
        "exact_match_routing": "rule_based_fast",
        "confidence_threshold": 0.90,
        "actions": ["specialized_parallel=enabled", "k_pool_reduction=50"]
      }
    },
    "rag.code.qa": {
      "reranker": "ce_tiny",
      "rerank_topk": 20,
      "batch_size_ce": 24,
      "candidate_pruning": "enabled",
      "retrieval_k": 450,
      "retrieval_parallel": "enabled",
      "graph_expand_hops": 1,
      "graph_added_tokens_cap": 500,
      "graph_lazy_expansion": "enabled",
      "chunk_len": 512,
      "rag_evidence_limit": 8,
      "fast_path_rules": {
        "enabled": true,
        "rag_confidence_threshold": 0.90,
        "evidence_count_threshold": 8,
        "actions": ["graph_expand_hops=0", "rerank_topk_reduction=5", "candidate_pruning=enabled"]
      }
    },
    "code.fusion": {
      "fusion_method": "parallel_rrf",
      "fusion_coordination": "async",
      "retriever_parallel": "enabled",
      "fusion_early_termination": "enabled",
      "fusion_timeout_ms": 200,
      "sparse_k": 150,
      "dense_k": 150,
      "symbol_k": 100,
      "fusion_score_caching": "enabled",
      "reranker": "off",
      "fast_path_rules": {
        "enabled": true,
        "fusion_confidence_threshold": 0.90,
        "retriever_agreement_threshold": 0.85,
        "actions": ["reranker=off", "fusion_early_termination=enabled"]
      }
    }
  },
  "optimization_features": {
    "chunking": {
      "ast_caching": "enabled",
      "boundary_detection_optimization": "enabled",
      "dynamic_overlap_reduction": "enabled"
    },
    "symbol_processing": {
      "graph_pruning": "enabled",
      "lazy_expansion": "enabled",
      "symbol_caching": "enabled",
      "hop_limiting": "enabled"
    },
    "routing": {
      "decision_caching": "enabled",
      "feature_caching": "enabled",
      "fast_path_routing": "enabled",
      "parallel_specialized_retrieval": "enabled"
    },
    "reranking": {
      "model_optimization": "ce_tiny",
      "batch_size_optimization": "enabled",
      "candidate_pruning": "enabled",
      "early_termination": "enabled"
    },
    "fusion": {
      "async_coordination": "enabled",
      "parallel_execution": "enabled",
      "score_caching": "enabled",
      "early_termination": "enabled"
    }
  },
  "performance_targets": {
    "code_p95_ms": 200,
    "rag_p95_ms": 350,
    "quality_preservation_min": 0.98,
    "p95_improvement_min": 0.10
  },
  "rollout_configuration": {
    "gradual_rollout": true,
    "stages": [
      {"traffic_pct": 10, "duration_hours": 24, "validation_required": true},
      {"traffic_pct": 20, "duration_hours": 24, "validation_required": true},
      {"traffic_pct": 40, "duration_hours": 48, "validation_required": true},
      {"traffic_pct": 80, "duration_hours": 72, "validation_required": true}
    ],
    "rollback_triggers": {
      "p95_regression": ">5%",
      "quality_degradation": ">2%",
      "error_rate_increase": ">1%"
    }
  }
}